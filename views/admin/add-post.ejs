
<div class="postpage">

  <a href="/dashboard">&larr; Back</a>

  <div class="admin-addpost">
    <h2>Add New Post</h2>
  </div>

  <form action="/add-post" method="POST" enctype="multipart/form-data">
 
    <label for="category">Category:</label>
    <select name="category" id="category" required>
      <option value="" disabled selected>Select a category</option> <!-- Placeholder option -->
      <% categories.forEach(category => { %>
        <option value="<%= category %>"><%= category %></option>
      <% }); %>
    </select>

    <label for="title"><b>Title</b></label>
    <input type="text" placeholder="Post Title" name="title">

    <label for="body"><b>Content</b></label>
    <textarea name="body" cols="50" rows="10"></textarea>

    <label for="autherName"><b>Auther</b></label>
    <input type="text" placeholder="Auther Name" name="autherName">
    
    <!-- <div class="form-group">
      <label for="image">Select Image</label>
      <input type="file" name="image" class="form-control-file custom-file-input" id="image" required>
      <img id="image-preview" src="#" alt="Image Preview" style="display: none; max-width: 100%; margin-top: 10px;">
    </div> -->

    <div class="form-group">
      <label for="image">Select Image</label>
      <input type="file" name="image" class="form-control-file custom-file-input" id="image" onchange="previewImage(event)" required>
      <img id="image-preview" src="#" alt="Image Preview" style="max-width: 100%; margin-top: 10px; display: none;">
    </div>
    
    <input type="submit" value="Add" class="btn">

  </form>

  <script>
    function previewImage(event) {
  const input = event.target;
  const reader = new FileReader();
  
  reader.onload = function() {
    const preview = document.getElementById('image-preview');
    preview.src = reader.result;
    preview.style.display = 'block';
  };
  
  reader.readAsDataURL(input.files[0]);
}

  </script>

</div>

